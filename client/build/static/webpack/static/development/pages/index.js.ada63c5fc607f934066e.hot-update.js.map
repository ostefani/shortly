{"version":3,"file":"static/webpack/static/development/pages/index.js.ada63c5fc607f934066e.hot-update.js","sources":["webpack:///./containers/Home/index.js"],"sourcesContent":["import React, { useState } from 'react';\nimport Page from '../../components/Page';\nimport Label from '../../components/Label';\nimport Input from '../../components/Input';\nimport Button from '../../components/Button';\nimport Form from '../Form';\nimport postURI from '../../lib/postURI';\nimport postSubpart from '../../lib/postSubpart';\n\nexport default () => {\n    const [value, setValue] = useState({ link: '', subpart: '' });\n    const [error, setError] = useState('');\n    const [isURLCreated, setIsURLCreated] = useState(false);\n\n    const handleChange = event => {\n        if (error) {\n            setError('');\n        }\n        // setLinkValue(event.target.value);\n        setValue({ ...value, [event.target.name]: event.target.value });\n    };\n\n    const handleSubmitURI = async event => {\n        event.preventDefault();\n        setIsURLCreated(false);\n        const result = await postURI({ link: value.link });\n\n        if (result.created) {\n            setValue({ ...value, link: result.shortURI });\n            setIsURLCreated(true);\n        }\n        else {\n            setError(result.error || result.message);\n        }\n    };\n\n    const handleSubmitSubpart = async event => {\n        event.preventDefault();\n        console.log('subpart: ', value.subpart);\n        const result = await postSubpart({ subpart: value.subpart });\n        console.log('result: ', result);\n    };\n\n    return (\n        <Page>\n            <Form onSubmit={isURLCreated ? handleSubmitSubpart : handleSubmitURI}>\n                <Label inputId=\"link\">Enter your link</Label>\n                <Input\n                    name=\"link\"\n                    id=\"link\"\n                    placeholder=\"Paste your link\"\n                    value={value.link}\n                    error={error}\n                    onChange={handleChange}\n                    disabled={isURLCreated}\n                />\n                {isURLCreated\n                    && (\n                        <>\n                            <Label inputId=\"link\">You can change subpart</Label>\n                            <Input\n                                name=\"subpart\"\n                                id=\"subpart\"\n                                placeholder=\"Your new subpart\"\n                                value={value.subpart}\n                                error={error}\n                                onChange={handleChange}\n                            />\n                        </>\n                    )}\n                <Button>Send</Button>\n            </Form>\n            {/* Working on it\n            isURLCreated\n                    && (\n                        <Form onSubmit={handleSubmitSubpart}>\n                            <Label inputId=\"link\">You can change subpart</Label>\n                            <Input\n                                name=\"subpart\"\n                                id=\"subpart\"\n                                placeholder=\"Your new subpart\"\n                                value={value.subpart}\n                                error={error}\n                                onChange={handleChange}\n                            />\n                            {isURLCreated && <Button>Send</Button>}\n                        </Form>\n                    )*/}\n        </Page>\n    );\n};\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AACA;AAAA;AAAA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAFA;AAAA;AAGA;AAAA;AACA;AAJA;AAGA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AAZA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAaA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAFA;AAAA;AAGA;AAAA;AACA;AAJA;AAGA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAMA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAoBA;;;;A","sourceRoot":""}